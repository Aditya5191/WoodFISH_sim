<?xml version='1.0' encoding='utf-8'?>
<sdf version="1.7">
    <model name="AUV">
        <link name="base_link">
            <pose>0.0 0.0 0.0 0.0 -0.0 0.0</pose>
            <inertial>
                <mass>0.5</mass>
                <pose>0.0039041771157514687 4.83945660710151e-17 0.032675770247081966 0.0 0.0 0.0</pose>
                <inertia>
                    <ixx>0.06354699122990562</ixx>
                    <iyy>0.18482191169818646</iyy>
                    <izz>0.23503512317864872</izz>
                    <ixy>4.9037894171340564e-17</ixy>
                    <iyz>-2.912149687040145e-17</iyz>
                    <ixz>-0.00016064345794389616</ixz>
                </inertia>
            </inertial>
            <visual name="base_link_visual">
                <geometry>
                    <mesh>
                        <uri>meshes/base_link.stl</uri>
                        <scale>0.001 0.001 0.001</scale>
                    </mesh>
                </geometry>
                <material>
                    <ambient>1 1 0 1</ambient>
                    <diffuse>1 1 0 1</diffuse>
                    <specular>0.1 0.1 0.1 1</specular>
                    <emissive>0 0 0 1</emissive>
                </material>

            </visual>
            <collision name="base_link_collision">
                <geometry>
                    <box>
                        <size>0.42 0.17 0.07</size>                      
                    </box>
                </geometry>
                <pose>0.0 0.0 0.035 0.0 0.0 0.0</pose>
            </collision>
        </link>
        <link name="canister_m1">
            <pose>0.12499999999999992 7.753917579994428e-18 0.085 3.141592653589793 3.8857805861880495e-15 3.141592653589793</pose>
            <inertial>
                <mass>1</mass>
                <pose>3.4008288892805853e-09 5.983913413592166e-09 0.03420084938084101 0.0 0.0 0.0</pose>
                <inertia>
                    <ixx>0.0005301765989691295</ixx>
                    <iyy>0.0005301766649759496</iyy>
                    <izz>0.0006389828274767303</izz>
                    <ixy>3.018929760097086e-11</ixy>
                    <iyz>2.2118196058630836e-11</iyz>
                    <ixz>2.4566317719184366e-11</ixz>
                </inertia>
            </inertial>
            <visual name="canister_m1_visual">
                <geometry>
                    <mesh>
                        <uri>meshes/canister_m1.stl</uri>
                        <scale>0.001 0.001 0.001</scale>
                    </mesh>
                </geometry>
                <material>
                    <ambient>0 0 0 1</ambient>
                    <diffuse>0 0 0 1</diffuse>
                    <specular>0.1 0.1 0.1 1</specular>
                    <emissive>0 0 0 1</emissive>
                </material>


            </visual>
            <collision name="canister_m1_collision">
                <geometry>
                    <box>
                        <size>0.14 0.14 0.07</size>                      
                    </box>
                </geometry>
                <pose>0.0 0.0 0.045 0.0 0.0 0.0</pose>
            </collision>
        </link>
        <link name="canister_m2">
            <pose>-0.12500000000000008 7.105427357601002e-17 0.08499999999999996 3.141592653589793 3.8857805861880495e-15 3.141592653589793</pose>
            <inertial>
                <mass>1</mass>
                <pose>3.4008289070441537e-09 5.983913413592166e-09 0.03420084938084101 0.0 0.0 0.0</pose>
                <inertia>
                    <ixx>0.0005301765989691293</ixx>
                    <iyy>0.0005301766649759548</iyy>
                    <izz>0.0006389828274767338</izz>
                    <ixy>3.018929760097091e-11</ixy>
                    <iyz>2.2118196058630784e-11</iyz>
                    <ixz>2.4566316851822628e-11</ixz>
                </inertia>
            </inertial>
            <visual name="canister_m2_visual">
                <geometry>
                    <mesh>
                        <uri>meshes/canister_m2.stl</uri>
                        <scale>0.001 0.001 0.001</scale>
                    </mesh>
                </geometry>
                <material>
                    <ambient>0 0 0 1</ambient>
                    <diffuse>0 0 0 1</diffuse>
                    <specular>0.1 0.1 0.1 1</specular>
                    <emissive>0 0 0 1</emissive>
                </material>

            </visual>
            <collision name="canister_m2_collision">
                <geometry>
                    <box>
                        <size>0.14 0.14 0.07</size>                      
                    </box>
                </geometry>
                <pose>0.0 0.0 0.045 0.0 0.0 0.0</pose>
            </collision>
        </link>
        <link name="cannister_s1">
            <pose>-0.03893749999999983 0.1550000000000002 0.035 -1.5707963267948966 -1.2816629302294903e-29 -1.5707963267948986</pose>
            <inertial>
                <mass>1</mass>
                <pose>0.022840941856876084 1.2336246340449517e-11 0.031299986832562424 0.0 0.0 0.0</pose>
                <inertia>
                    <ixx>0.0004709392142269556</ixx>
                    <iyy>0.0007256291270399209</iyy>
                    <izz>0.0005431649851574928</izz>
                    <ixy>-1.553558689264192e-13</ixy>
                    <iyz>1.8679248328090973e-13</iyz>
                    <ixz>-1.1273369861792491e-05</ixz>
                </inertia>
            </inertial>
            <visual name="cannister_s1_visual">
                <geometry>
                    <mesh>
                        <uri>meshes/cannister_s1.stl</uri>
                        <scale>0.001 0.001 0.001</scale>
                    </mesh>
                </geometry>
                <material>
                    <ambient>0 0 0 1</ambient>
                    <diffuse>0 0 0 1</diffuse>
                    <specular>0.1 0.1 0.1 1</specular>
                    <emissive>0 0 0 1</emissive>
                </material>

            </visual>
            <collision name="cannister_s1_collision">
                <geometry>
                    <box>
                        <size>0.11 0.1065 0.07</size>                      
                    </box>
                </geometry>
                <pose>0.035 0.0 0.025 0.0 0.0 0.0</pose>
            </collision>
        </link>
        <link name="cannister_s2">
            <pose>-0.038937500000000076 -0.15499999999999992 0.03500000000000029 1.5707963267948968 6.7412477214656915e-31 1.5707963267948946</pose>
            <inertial>
                <mass>1</mass>
                <pose>0.022840941856876056 1.2336265365649534e-11 0.03129998683256243 0.0 0.0 0.0</pose>
                <inertia>
                    <ixx>0.00047093921422695407</ixx>
                    <iyy>0.0007256291270399192</iyy>
                    <izz>0.0005431649851574875</izz>
                    <ixy>-1.5535479242565693e-13</ixy>
                    <iyz>1.867924240644198e-13</iyz>
                    <ixz>-1.1273369861792422e-05</ixz>
                </inertia>
            </inertial>
            <visual name="cannister_s2_visual">
                <geometry>
                    <mesh>
                        <uri>meshes/cannister_s2.stl</uri>
                        <scale>0.001 0.001 0.001</scale>
                    </mesh>
                </geometry>
                <material>
                    <ambient>0 0 0 1</ambient>
                    <diffuse>0 0 0 1</diffuse>
                    <specular>0.1 0.1 0.1 1</specular>
                    <emissive>0 0 0 1</emissive>
                </material>

            </visual>
            <collision name="cannister_s2_collision">
                <geometry>
                    <box>
                        <size>0.11 0.1065 0.07</size>                      
                    </box>
                </geometry>
                <pose>0.035 0.0 0.025 0.0 0.0 0.0</pose>
            </collision>
        </link>
        <link name="propeller_m1">
            <pose>0.12500000000000008 7.753917579994408e-18 0.020000000000000035 3.141592653589793 -7.771561172376099e-15 -4.930380657631324e-32</pose>
            <inertial>
                <mass>1</mass>
                <pose>-1.5283076074606945e-06 -1.3641272198259223e-06 0.014499375705327607 0.0 0.0 0.0</pose>
                <inertia>
                    <ixx>1.0294504067545145e-05</ixx>
                    <iyy>1.0296240411736279e-05</iyy>
                    <izz>1.99605941017813e-05</izz>
                    <ixy>6.717163310750855e-10</ixy>
                    <iyz>7.201994639987403e-11</iyz>
                    <ixz>9.215690232088792e-11</ixz>
                </inertia>
            </inertial>
            <visual name="propeller_m1_visual">
                <geometry>
                    <mesh>
                        <uri>meshes/propeller_m1.stl</uri>
                        <scale>0.001 0.001 0.001</scale>
                    </mesh>
                </geometry>
                <material>
                    <ambient>0.5 0.5 0.5 1</ambient>
                    <diffuse>0.5 0.5 0.5 1</diffuse>
                    <specular>0.1 0.1 0.1 1</specular>
                    <emissive>0 0 0 1</emissive>
                </material>

            </visual>
            <collision name="propeller_m1_collision">
                <geometry>
                    <mesh>
                        <uri>meshes/propeller_m1.stl</uri>
                        <scale>0.001 0.001 0.001</scale>
                    </mesh>
                </geometry>
            </collision>
        </link>
        <link name="propeller_m2">
            <pose>-0.12499999999999992 7.105427357601e-17 0.02 3.141592653589793 -7.771561172376099e-15 -4.930380657631324e-32</pose>
            <inertial>
                <mass>1</mass>
                <pose>-1.528307607442931e-06 -1.3641272198259223e-06 0.014499375705327609 0.0 0.0 0.0</pose>
                <inertia>
                    <ixx>1.0294504067545144e-05</ixx>
                    <iyy>1.0296240411735954e-05</iyy>
                    <izz>1.9960594101781136e-05</izz>
                    <ixy>6.717163310750847e-10</ixy>
                    <iyz>7.20199463998739e-11</iyz>
                    <ixz>9.215690231072352e-11</ixz>
                </inertia>
            </inertial>
            <visual name="propeller_m2_visual">
                <geometry>
                    <mesh>
                        <uri>meshes/propeller_m2.stl</uri>
                        <scale>0.001 0.001 0.001</scale>
                    </mesh>
                </geometry>
                <material>
                    <ambient>0.5 0.5 0.5 1</ambient>
                    <diffuse>0.5 0.5 0.5 1</diffuse>
                    <specular>0.1 0.1 0.1 1</specular>
                    <emissive>0 0 0 1</emissive>
                </material>

            </visual>
            <collision name="propeller_m2_collision">
                <geometry>
                    <mesh>
                        <uri>meshes/propeller_m2.stl</uri>
                        <scale>0.001 0.001 0.001</scale>
                    </mesh>
                </geometry>
            </collision>
        </link>
        <link name="propeller_s1">
            <pose>0.026062500000000082 0.15499999999999997 0.035 1.9567680809016747e-15 1.5707963267948966 0</pose>
            <inertial>
                <mass>1</mass>
                <pose>-1.528307607430613e-06 -1.3641272198299745e-06 0.014499375705327609 0.0 0.0 0.0</pose>
                <inertia>
                    <ixx>1.0294504067545076e-05</ixx>
                    <iyy>1.0296240411736049e-05</iyy>
                    <izz>1.9960594101781082e-05</izz>
                    <ixy>6.717163310494303e-10</ixy>
                    <iyz>7.201994639489143e-11</iyz>
                    <ixz>9.21569023158758e-11</ixz>
                </inertia>
            </inertial>
            <visual name="propeller_s1_visual">
                <geometry>
                    <mesh>
                        <uri>meshes/propeller_s1.stl</uri>
                        <scale>0.001 0.001 0.001</scale>
                    </mesh>
                </geometry>
                <material>
                    <ambient>0.5 0.5 0.5 1</ambient>
                    <diffuse>0.5 0.5 0.5 1</diffuse>
                    <specular>0.1 0.1 0.1 1</specular>
                    <emissive>0 0 0 1</emissive>
                </material>

            </visual>
            <collision name="propeller_s1_collision">
                <geometry>
                    <box>
                        <size>0.13 0.13 0.0</size>                      
                    </box>
                </geometry>
            </collision>
        </link>
        <link name="propeller_s2">
            <pose>0.026062499999999832 -0.15500000000000008 0.03500000000000029 1.9567680809016727e-15 1.5707963267948966 0</pose>
            <inertial>
                <mass>1</mass>
                <pose>-1.5283076074297235e-06 -1.3641272197944474e-06 0.014499375705327609 0.0 0.0 0.0</pose>
                <inertia>
                    <ixx>1.0294504067545293e-05</ixx>
                    <iyy>1.0296240411736062e-05</iyy>
                    <izz>1.9960594101781407e-05</izz>
                    <ixy>6.717163310494305e-10</ixy>
                    <iyz>7.201994642199664e-11</iyz>
                    <ixz>9.21569023135083e-11</ixz>
                </inertia>
            </inertial>
            <visual name="propeller_s2_visual">
                <geometry>
                    <mesh>
                        <uri>meshes/propeller_s2.stl</uri>
                        <scale>0.001 0.001 0.001</scale>
                    </mesh>
                </geometry>
                <material>
                    <ambient>0.5 0.5 0.5 1</ambient>
                    <diffuse>0.5 0.5 0.5 1</diffuse>
                    <specular>0.1 0.1 0.1 1</specular>
                    <emissive>0 0 0 1</emissive>
                </material>

            </visual>
            <collision name="propeller_s2_collision">
                <geometry>
                    <box>
                        <size>0.13 0.13 0.0</size>                      
                    </box>
                </geometry>
            </collision>
        </link>
        <joint name="base_link_Rigid-1" type="fixed">
            <pose>-2.4980018054065983e-17 -7.753917579994417e-18 0.014999999999999993 0.0 0.0 0.0</pose>
            <parent>base_link</parent>
            <child>canister_m1</child>
        </joint>
        <joint name="base_link_Rigid-2" type="fixed">
            <pose>-2.4980018054066155e-17 -7.105427357601001e-17 0.014999999999999951 0.0 0.0 0.0</pose>
            <parent>base_link</parent>
            <child>canister_m2</child>
        </joint>
        <joint name="base_link_Rigid-3" type="fixed">
            <pose>0.07000000000000016 -1.0162330470991226e-17 0.043937499999999914 0.0 0.0 0.0</pose>
            <parent>base_link</parent>
            <child>cannister_s1</child>
        </joint>
        <joint name="base_link_Rigid-4" type="fixed">
            <pose>0.07000000000000002 -2.635707358417758e-16 0.04393749999999988 0.0 0.0 0.0</pose>
            <parent>base_link</parent>
            <child>cannister_s2</child>
        </joint>
        <joint name="canister_m2_Revolute-5" type="revolute">
            <pose>-1.2212453270876723e-16 7.105427357601e-17 0.005000000000000001 0.0 0.0 0.0</pose>
            <parent>canister_m2</parent>
            <child>propeller_m2</child>
            <axis>
                <xyz expressed_in="__model__">0.0 -0.0 -1.0</xyz>
            </axis>
        </joint>
        <joint name="canister_m1_Revolute-6" type="revolute">
            <pose>-1.2212453270876753e-16 7.753917579994405e-18 0.005000000000000036 0.0 0.0 0.0</pose>
            <parent>canister_m1</parent>
            <child>propeller_m1</child>
            <axis>
                <xyz expressed_in="__model__">0.0 -0.0 -1.0</xyz>
            </axis>
        </joint>
        <joint name="cannister_s1_Revolute-7" type="revolute">
            <pose>6.123846319136244e-19 3.754039440417758e-17 0.005000499999999918 0.0 0.0 0.0</pose>
            <parent>cannister_s1</parent>
            <child>propeller_s1</child>
            <axis>
                <xyz expressed_in="__model__">1.0 -0.0 0.0</xyz>
            </axis>
        </joint>
        <joint name="cannister_s2_Revolute-8" type="revolute">
            <pose>2.8388238789296263e-16 9.304958886735497e-17 0.004999500000000167 0.0 0.0 0.0</pose>
            <parent>cannister_s2</parent>
            <child>propeller_s2</child>
            <axis>
                <xyz expressed_in="__model__">1.0 -0.0 -0.0</xyz>
            </axis>
        </joint>

        <!-- Hydrodynamic system-->
    <plugin
                filename="gz-sim-hydrodynamics-system"
                name="gz::sim::systems::Hydrodynamics">
                <!-- <disable_added_mass>true</disable_added_mass> -->
                <link_name>base_link</link_name>

                <!-- Linear drag (velocity-dependent) -->
                <xU>-100</xU>
                <yV>-100</yV>
                <zW>-100</zW>

                <!-- Quadratic drag (speed squared) -->
                <xUabsU>-10</xUabsU>
                <yVabsV>-10</yVabsV>
                <zWabsW>-10</zWabsW>

                <!-- Angular drag -->
                <kP>-0.02</kP>
                <mQ>-0.02</mQ>
                <nR>-0.02</nR>

                <!-- Quadratic angular drag -->
                <kPabsP>-0.5</kPabsP>
                <mQabsQ>-0.5</mQabsQ>
                <nRabsR>-0.5</nRabsR>
                
            </plugin>
    
    <plugin
        filename="gz-sim-thruster-system"
        name="gz::sim::systems::Thruster">
        <namespace>AUV</namespace>
        <topic>trial</topic>
        <joint_name>cannister_s2_Revolute-8</joint_name>
        <thrust_coefficient>0.004422</thrust_coefficient>
        <fluid_density>1000</fluid_density>
        <propeller_diameter>0.13</propeller_diameter>
    </plugin>
    <plugin
        filename="gz-sim-thruster-system"
        name="gz::sim::systems::Thruster">
        <namespace>AUV</namespace>
        <topic>trial</topic>
        <joint_name>cannister_s1_Revolute-7</joint_name>
        <thrust_coefficient>0.004422</thrust_coefficient>
        <fluid_density>1000</fluid_density>
        <propeller_diameter>0.13</propeller_diameter>
    </plugin>
    </model>
</sdf>

